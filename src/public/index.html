<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="stylesheet" href="css/gauge-chart.css">
    </head>
    <body>
		<script src="../../node_modules/d3/d3.js"></script>
        <script src="js/gauge-chart.js"></script>
		<script>
		function getRandomInt(min, max) {
			return Math.floor(Math.random() * (max - min + 1)) + min;
		}
		
		function generateData(entryRange, valueRange, idRange) {
			var length = getRandomInt(entryRange[0], entryRange[1]);
			var data = [];
			for (var i = 0; i < length; i++) {
				var uniqueId;
				while (!uniqueId || data.filter(function(item) { return item.id === uniqueId; }).length) {
					uniqueId = getRandomInt(idRange[0], idRange[1]);
				}
				data.push({
					value: getRandomInt(valueRange[0], valueRange[1]),
					id: uniqueId
				})
			}
			console.log(data);
			return data;
		}
		
		var options = {
			target: d3.select('body')[0][0],
			data: generateData([2,4], [10, 90], [1,5]),//[{id: 1, value: 10}, {id: 2, value: 20}, {id: 3, value: 50}],
			animation: {
					animate: true
			},
		};

		var chart = GaugeChart(options);
		
		setInterval(function() {
			chart.data(generateData([2,4], [10, 90], [1,5]));
			chart.update();
		}, 2500);
		</script>
    </body>
</html>
