<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="stylesheet" href="css/gauge-chart.css">
		<style>
			#red svg.gh-gauge-chart path.background {
			fill: #C2B280; }
			#red svg.gh-gauge-chart path.series {
			fill: red; }
			
#big svg.gh-gauge-chart {
	width: 300px;
	height: 300px;
}

#big svg.gh-gauge-chart g.gh-gauge-chart-main-layer {
	transform: translate(150px, 150px) scale(0.8);;
}

 #big svg.gh-gauge-chart text.main-value {
	fill: red;
    font-size: 2em; }			
		</style>
    </head>
    <body>
		<div id="regular"></div>
		<div id="red"></div>
		<div id="big"></div>
		<script src="../../node_modules/d3/d3.js"></script>
        <script src="js/gauge-chart.js"></script>
		<script>
		function getRandomInt(min, max) {
			return Math.floor(Math.random() * (max - min + 1)) + min;
		}
		
		function generateData(entryRange, valueRange, idRange) {
			var length = getRandomInt(entryRange[0], entryRange[1]);
			var data = [];
			for (var i = 0; i < length; i++) {
				var uniqueId;
				while (!uniqueId || data.filter(function(item) { return item.id === uniqueId; }).length) {
					uniqueId = getRandomInt(idRange[0], idRange[1]);
				}
				data.push({
					value: getRandomInt(valueRange[0], valueRange[1]),
					id: uniqueId
				})
			}
			console.log(data);
			return data;
		}
		
		var options = {
			target: d3.select('#regular')[0][0],
			data: generateData([2,4], [10, 90], [1,5]),//[{id: 1, value: 10}, {id: 2, value: 20}, {id: 3, value: 50}],
			animation: {
					animate: true
			},
		};

		var chartFull = GaugeChart(options);
		options.renderHalfCircle = true;
		var chartHalf = GaugeChart(options);
		options.startAngle = Math.PI / 4;
		var chartHalfHalfOne = GaugeChart(options);		
		
		options.target = d3.select('#red')[0][0];
		var chartHalfHalfOneRed = GaugeChart(options);		

		delete options.startAngle;
		delete options.renderHalfCircle;
		options.target = d3.select('#big')[0][0];
		var chartBig = GaugeChart(options);		
		
		options.renderHalfCircle = true;
		options.startAngle = Math.PI / 2;
		options.seriesThickness = 25;
		options.seriesSeparation = 10;
		var chartBigThick = GaugeChart(options);		
		
		setInterval(function() {
			var data = generateData([2,4], [10, 90], [1,5]);
			chartFull.data(data);
			chartFull.update();
			chartHalf.data(data);
			chartHalf.update();				
			chartHalfHalfOne.data(data);
			chartHalfHalfOne.update();			
			
			chartHalfHalfOneRed.data(data);
			chartHalfHalfOneRed.update();						

			chartBig.data(data);
			chartBig.update();	
			
			chartBigThick.data(data);
			chartBigThick.update();				
		}, 2500);
		</script>
    </body>
</html>
